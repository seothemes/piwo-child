"undefined"==typeof InXero&&(window.console||(window.console={}),"function"!=typeof window.console.log&&(window.console.log=function(){}),"function"!=typeof window.console.warn&&(window.console.warn=function(){}),"function"!=typeof window.console.error&&(window.console.error=function(){}),window.InXero=window.InXero||{},InXero.prevHash=null,InXero.lightboxWinScrollBar=null,InXero.resizingHappeningFlag=!1,InXero.insertScript=function(e,o){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=!1;t.onload=t.onreadystatechange=function(){n||this.readyState&&"complete"!==this.readyState&&("loaded"!==this.readyState||null==this.nextSibling)?"loaded"===this.readyState&&null==this.nextSibling&&console.log("error via ie"):(console.log("loaded via all"),n=!0,"function"==typeof o&&o(),t.onload=t.onreadystatechange=null)},t.onerror=function(){console.log("error via everything else")};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)},InXero.getScriptInfo=function(e){var o={host:"",base:""};e=e.toLowerCase();for(var t,n=0,r=document.getElementsByTagName("script");t=r[n];n++){var a=t.src,i=a.lastIndexOf("/")+1,s=a.substring(i).toLowerCase().replace(".min","");if(e==s)return("undefined"==typeof o.base||""===o.base)&&(o.base=a.substring(0,i)),("undefined"==typeof o.host||""===o.host)&&(o.host=a.substring(0,a.indexOf("/",8)+1)),o}return o},InXero.getURLParameter=function(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])},InXero.si=InXero.getScriptInfo("inxo_xapp_loader.js"),InXero.base=InXero.si.base,InXero.host='http://www.inxero.com/',InXero.xapp_url,InXero.insertScript(InXero.host+"assets/xapp_lazyload-min.js",function(){InXero.insertScript(InXero.host+"assets/xapp_jquery.min.js",function(){"undefined"!=typeof $&&"function"==typeof $.noConflict&&$.noConflict(),function(e){InXeroLazyLoad.css(InXero.host+"assets/xapp_colorbox.css",function(){InXero.insertScript(InXero.host+"assets/combined.min.js",function(){e(document).ready(function(){InXero.loadXapps(),InXero.setReceivers();var e=InXero.getHash();if(e)switch(!0){case/^inxero/.test(e):InXero.openXapp(e);break;case/^lightboxResponsive/.test(e):InXero.openResponsiveLightbox(e);break;case/^getTechStoryHash/.test(e):InXero.openTechStoryDetailPage(e)}})})}),InXero.setReceivers=function(){"undefined"!=typeof e.receiveMessage?(InXero.registerReceiverInterval&&clearInterval(InXero.registerReceiverInterval),InXero.registerReceiver()):InXero.registerReceiverInterval=setInterval(InXero.setReceivers,500)},InXero.loadXapps=function(){e(".inxero-xapp").each(function(o,t){t=e(t);var n=t.attr("data-id"),r="inxero-xapp-"+n,a="inxero-xapp-loader-"+n,i={};switch(i.frame_loader_id=a,"undefined"!=typeof t.attr("data-layout")&&(i.layout=t.attr("data-layout")),"undefined"!=typeof t.attr("data-thumbnail")&&(i.thumbnail=t.attr("data-thumbnail")),"undefined"!=typeof t.attr("data-content")&&(i.visible_content=t.attr("data-content")),"undefined"!=typeof t.attr("data-border")&&(i.border=t.attr("data-border")),"undefined"!=typeof t.attr("data-width")&&(i.width=t.attr("data-width")),"undefined"!=typeof t.attr("data-header")&&(i.header=t.attr("data-header")),"undefined"!=typeof t.attr("data-show-filter")&&(i.show_filter=t.attr("data-show-filter")),"undefined"!=typeof t.attr("data-disable-load-more")&&(i.disable_load_more=t.attr("data-disable-load-more")),"undefined"!=typeof t.attr("data-load-more-after-item")&&(i.load_more_after_item=t.attr("data-load-more-after-item")),"undefined"!=typeof t.attr("data-load-more-after-rows")&&(i.load_more_after_rows=t.attr("data-load-more-after-rows")),"undefined"!=typeof t.attr("data-filter-type")&&(i.filter_type=t.attr("data-filter-type")),"undefined"!=typeof t.attr("data-play-icon-color")&&(i.play_icon_color=t.attr("data-play-icon-color")),"undefined"!=typeof t.attr("data-show-learn-more-cta")&&(i.show_learn_more_cta=t.attr("data-show-learn-more-cta")),"undefined"!=typeof t.attr("data-campaign-code")&&(i.campaign_code=t.attr("data-campaign-code")),"undefined"!=typeof t.attr("data-show-side-cta")&&(i.show_side_cta=t.attr("data-show-side-cta")),t.data("xapp-type")){case"content-hosting":var s=!0,c=InXero.getURLParameter("showcase_id");if("string"!=typeof c||"null"!==c&&0!=e.trim(c).length?(s=!0,i.xapp_type="resource",i.showcase_id=InXero.getURLParameter("showcase_id")):s=!1,!s){var l=InXero.getURLParameter("resource_id"),d=InXero.getURLParameter("resource_type");"string"==typeof l&&("null"===l||0==e.trim(l).length)||"string"==typeof d&&("null"===d||0==e.trim(d).length)?s=!1:(s=!0,i.resource_id=l,i.resource_type=d),i.xapp_type="content-automation"}break;case"content-syndication-feeds":i.xapp_type="content-syndication-feeds";break;case"tech-story":var p=InXero.getHash();if(/^techstory/.test(p)){var h=p.split("-");4==h.length&&(i.resource_id=h[2],i.resource_type=h[3])}}i=decodeURIComponent(e.param(i)),console.log("appending loader: "),e('<div id="'+a+'" style="display:block; background: url('+InXero.host+'assets/loading_inxero_new.gif) no-repeat scroll center center #FFFFFF; height:100px; width:100px; margin:0px auto"></div>').appendTo(t);t.attr("data-layout")||"";InXero.xapp_url=InXero.host+"social_widgets/"+encodeURIComponent(n)+"?"+i+"&parent="+encodeURIComponent(window.location.href.split("#")[0]),e("<iframe/>").attr("id",r).attr("src",InXero.xapp_url).css("width","100%").css("height","100%").attr("scrolling","no").attr("frameborder",0).appendTo(t),console.log("appended iframe: "),e("#"+r).load(function(){e(this).parent().find("#"+a).hide()})})},InXero.hidePreLoader=function(o){e("#inxero-xapp-loader-"+o).hide()},InXero.openXapp=function(o){var t=o.split("-",3);if(3==t.length&&"inxero"===t[0]){var n=t[2],r=t[1];InXero.prevHash=InXero.getHash(),"inxero"==InXero.prevHash.split("-")[0]&&(InXero.prevHash=""),window.location.hash=o;var a=InXero.host+"social_widgets/"+encodeURIComponent(n)+"/lightbox_showcase?content_id="+r+"&parent="+encodeURIComponent(window.location.href.split("#")[0]);r.match(/dealshowcase/)&&(a=InXero.host+"social_widgets/"+encodeURIComponent(n)+"/lightbox_showcase?deal_showcase_id="+parseInt(r)+"&parent="+encodeURIComponent(window.location.href.split("#")[0])),InXero.lightboxWinScrollBar=e(window).scrollTop();var i=960;e(document).width()<960&&(i="95%"),e.colorbox({onClosed:InXero.closeXapp,onOpen:InXero.openColorBox,transition:"none",href:a,iframe:!0,fastIframe:!0,innerWidth:i,innerHeight:662,scrolling:!1,reposition:!0,onLoad:function(){e("#cboxLoadingGraphic").hide()}}),setTimeout(function(){e("#cboxLoadingGraphic").show()},500)}},InXero.openColorBox=function(){InXero.bodyOverFlow=!1,"hidden"==e("body").css("overflow")&&(e("body").css("overflow","auto"),InXero.bodyOverFlow=!0)},InXero.closeXapp=function(){InXero.setHash(InXero.prevHash),InXero.bodyOverFlow&&e("body").css("overflow","hidden")},InXero.getHash=function(){var e=window.location.hash;return e.length>2?e.substr(1):""},InXero.setHash=function(e){"function"==typeof window.history.replaceState?(e=e.length>0?"#"+e:window.location.href.split("#")[0],window.history.replaceState(null,document.title,e)):window.location.hash="#"+e},InXero.customizeShowcase=function(o){var t=o.split("-"),n=(t[2],t[1]);InXero.prevHash=InXero.getHash(),"customize"==InXero.prevHash.split("-")[0]&&(InXero.prevHash=""),window.location.hash=o;var r=InXero.host+"call_to_actions/new?lbcta=true&entity=showcase&instance=customize_showcase&showcase_id=";r+=n+"&parent="+encodeURIComponent(window.location.href.split("#")[0]),t.length>3?InXero.openResponsiveLightbox(o,r+"&responsive=true"):3==t.length&&"customize"===t[0]&&(InXero.lightboxWinScrollBar=e(window).scrollTop(),e.colorbox({onClosed:InXero.closeXapp,onOpen:InXero.openColorBox,transition:"none",href:r,iframe:!0,fastIframe:!1,width:990,height:670,reposition:!0}))},InXero.lightboxCallToAction=function(o){var t=o.split("-"),n=(t[1],t[1]),r=t[2],a=t[3],i=t[4],s=t[5],c=t[6],l=InXero.host+"call_to_actions/"+s+"?lbcta=true";l+="&code="+n+"&token="+r+"&entity="+a,l+="&"+a+"_id="+i+"&cta_mapping_id="+s,l+="&locale="+c+"&xapp_type=inxero&parent="+encodeURIComponent(window.location.href.split("#")[0]),7==t.length?(InXero.prevHash=InXero.getHash(),"lboxcta"==InXero.prevHash.split("-")[0]&&(InXero.prevHash=""),window.location.hash=o,InXero.lightboxWinScrollBar=e(window).scrollTop(),e.colorbox({onClosed:InXero.closeXapp,onOpen:InXero.openColorBox,transition:"none",href:l,iframe:!0,fastIframe:!1,width:990,height:570,reposition:!0})):(l+="&responsive=true",InXero.openResponsiveLightbox(o,l))},InXero.renderLightbox=function(o,t,n){InXero.lightboxWinScrollBar=e(window).scrollTop(),e.colorbox({transition:"none",href:o,iframe:!0,width:n,height:t,scrolling:!1})},InXero.setFlexibleWidth=function(o){e("#inxero-xapp-"+o).css("width","100%"),e("#inxero-xapp-"+o).parents(".inxero-xapp").css("width","100%")},InXero.setResponsiveWidthHeight=function(o,t){e("#inxero-xapp-"+t).css("width","100%"),e("#inxero-xapp-"+t).parents(".inxero-xapp").css("width","100%"),e("#inxero-xapp-"+t).css("height",o+"px"),e("#inxero-xapp-"+t).parents(".inxero-xapp").css("height",o+"px")},InXero.openResponsiveLightbox=function(o){if(InXero.prevHash=InXero.getHash(),1==arguments.length){"inxero"==InXero.prevHash.split("-")[0]&&(InXero.prevHash="");var t=o.split("-"),n=InXero.host+"/social_widgets/"+encodeURIComponent(t[1]);n+="/lightbox_responsive_content?content_id="+t[2],t.length>4&&(n+="&campaign_code="+t[4]),n+="&content_type="+t[3]+"&parent="+encodeURIComponent(window.location.href.split("#")[0])}else"lboxcta"==InXero.prevHash.split("-")[0]&&(InXero.prevHash=""),n=arguments[1];window.location.hash=o;var r=e("#inxero_custom_link");r.length>0?r.prop("href",n):r=e('<a href="'+n+'" style="display:none;" id="inxero_custom_link">hiddenlink</a>'),r.magnificPopup({type:"iframe",preloader:!0,callbacks:{close:function(){InXero.setHash(InXero.prevHash)}}}),r.trigger("click")},InXero.registerReceiver=function(){e.receiveMessage(function(o){var t=o.data;if("string"==typeof t){var n=t.split("-");switch(!0){case/^inxero/.test(t):InXero.openXapp(t);break;case/^customize/.test(t):InXero.customizeShowcase(t);break;case/^lboxcta/.test(t):InXero.lightboxCallToAction(t);break;case/^init/.test(t):var r=n[1],a="inxero-xapp-"+r;n.length>2&&e("iframe#"+a).css("height",n[2]),n.length>3&&e("iframe#"+a).css("width",n[3]);break;case/^boxinit/.test(t):if(!InXero.resizingHappeningFlag){InXero.resizingHappeningFlag=!0;var i=parseInt(n[2]);e(document).width()<i&&(i="95%"),e.colorbox.resize({innerWidth:i,innerHeight:n[1]}),InXero.resizingHappeningFlag=!1}break;case/^closemaginfic/.test(t):e("button.mfp-close").trigger("click"),InXero.setHash(InXero.prevHash);break;case/^(close-webpageview|boxclose)/.test(t):e.colorbox.close(),InXero.setHash(InXero.prevHash);break;case/^webpageview/.test(t):n=t.split("|");var s=InXero.host+"social_widgets/webpage_lightbox?webpage_url="+n[1]+"&resource_id="+n[2]+"&parent="+encodeURIComponent(window.location.href.split("#")[0]);n[3]&&(s+="&webpage_title="+n[3]),InXero.renderLightbox(s,605,"100%");break;case/^resourceInLightbox/.test(t):var n=t.split("|"),s=decodeURIComponent(n[1]);InXero.renderLightbox(s,580,960);break;case/^add-vendor/.test(t):var s=InXero.host+"vendor_lists/new?vendor_id="+n[2]+"&parent="+encodeURIComponent(window.location.href.split("#")[0]);InXero.renderLightbox(s,580,960);break;case/^resourceEmailLink/.test(t):var s=InXero.host+"showcase_emails/resource_email_link_form?resource_id="+n[1]+"&callback="+n[2]+"&parent="+encodeURIComponent(window.location.href.split("#")[0]);InXero.renderLightbox(s,340,500);break;case/^addToShowcase/.test(t):var s=InXero.host+"/showcases/add_content_form?showcase_id="+n[2]+"&content_id="+n[1]+"&callback="+n[3]+"&parent="+encodeURIComponent(window.location.href.split("#")[0]);n.length>4&&(s+="&"+n[4]+"=true"),InXero.renderLightbox(s,240,500);break;case/^setflexiblewidth/.test(t):InXero.setFlexibleWidth(n[1]);break;case/^responsive/.test(t):InXero.setResponsiveWidthHeight(n[1],n[2]);break;case/^lightboxResponsive/.test(t):InXero.openResponsiveLightbox(t);break;case/^colorboxiframeloaded/.test(t):e("#cboxLoadingGraphic").hide();break;case/^hideParentLoader/.test(t):var c=n[1]+"-"+n[2]+"-"+n[3]+"-"+n[4];e("#"+c).hide();break;case/^hidepreloader/.test(t):InXero.hidePreLoader(n[1]);break;case/^lboxResponsiveShowcase/.test(t):InXero.openResponsiveLightbox(t);break;case/^techstory/.test(t):InXero.openTechStoryDetailPage(t);break;default:console.log(o.data),console.log("Do nothing ......")}}},InXero.host.substr(0,InXero.host.length-1))},InXero.openTechStoryDetailPage=function(e){var o=e.split("-");"goback"==o[1]?window.location.hash=InXero.prevHash||"":(InXero.prevHash=InXero.getHash(),window.location.hash=e),window.scrollTo(0,0)}}(InXeroJquery)})}));