function RadarChart(t,e,a){var r={w:600,h:600,margin:{top:20,right:20,bottom:20,left:20},levels:3,maxValue:0,labelFactor:1.25,wrapWidth:60,opacityArea:.35,dotRadius:4,opacityCircles:.1,strokeWidth:2,roundStrokes:!1,color:d3.scale.category10()};if(void 0!==a)for(var n in a)void 0!==a[n]&&(r[n]=a[n]);var l=Math.max(r.maxValue,d3.max(e,function(t){return d3.max(t.map(function(t){return t.value}))})),i=e[0].map(function(t,e){return t.axis}),s=i.length,o=Math.min(r.w/2,r.h/2),c=d3.format("%"),d=2*Math.PI/s,p=d3.scale.linear().range([0,o]).domain([0,l]);d3.select(t).select("svg").remove();var u=d3.select(t).append("svg").attr("width",r.w+r.margin.left+r.margin.right).attr("height",r.h+r.margin.top+r.margin.bottom).attr("class","radar"+t).append("g").attr("transform","translate("+(r.w/2+r.margin.left)+","+(r.h/2+r.margin.top)+")"),f=u.append("defs").append("filter").attr("id","glow"),y=(f.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur"),f.append("feMerge")),h=(y.append("feMergeNode").attr("in","coloredBlur"),y.append("feMergeNode").attr("in","SourceGraphic"),u.append("g").attr("class","axisWrapper"));h.selectAll(".levels").data(d3.range(1,r.levels+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",function(t,e){return o/r.levels*t}).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",r.opacityCircles).style("filter","url(#glow)"),h.selectAll(".axisLabel").data(d3.range(1,r.levels+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",function(t){return-t*o/r.levels}).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(function(t,e){return c(l*t/r.levels)});var x=h.selectAll(".axis").data(i).enter().append("g").attr("class","axis");x.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return p(1.1*l)*Math.cos(d*e-Math.PI/2)}).attr("y2",function(t,e){return p(1.1*l)*Math.sin(d*e-Math.PI/2)}).attr("class","line").style("stroke","white").style("stroke-width","2px"),x.append("text").attr("class","legend").style("font-size","11px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(t,e){return p(l*r.labelFactor)*Math.cos(d*e-Math.PI/2)}).attr("y",function(t,e){return p(l*r.labelFactor)*Math.sin(d*e-Math.PI/2)}).text(function(t){return t}).call(function(t,c){t.each(function(){for(var t,e=d3.select(this),a=e.text().split(/\s+/).reverse(),r=[],n=0,l=e.attr("y"),i=e.attr("x"),s=parseFloat(e.attr("dy")),o=e.text(null).append("tspan").attr("x",i).attr("y",l).attr("dy",s+"em");t=a.pop();)r.push(t),o.text(r.join(" ")),o.node().getComputedTextLength()>c&&(r.pop(),o.text(r.join(" ")),r=[t],o=e.append("tspan").attr("x",i).attr("y",l).attr("dy",1.4*++n+s+"em").text(t))})},r.wrapWidth);var v=d3.svg.line.radial().interpolate("linear-closed").radius(function(t){return p(t.value)}).angle(function(t,e){return e*d});r.roundStrokes&&v.interpolate("cardinal-closed");var g=u.selectAll(".radarWrapper").data(e).enter().append("g").attr("class","radarWrapper");g.append("path").attr("class","radarArea").attr("d",function(t,e){return v(t)}).style("fill",function(t,e){return r.color(e)}).style("fill-opacity",r.opacityArea).on("mouseover",function(t,e){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",.1),d3.select(this).transition().duration(200).style("fill-opacity",.7)}).on("mouseout",function(){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",r.opacityArea)}),g.append("path").attr("class","radarStroke").attr("d",function(t,e){return v(t)}).style("stroke-width",r.strokeWidth+"px").style("stroke",function(t,e){return r.color(e)}).style("fill","none").style("filter","url(#glow)"),g.selectAll(".radarCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarCircle").attr("r",r.dotRadius).attr("cx",function(t,e){return p(t.value)*Math.cos(d*e-Math.PI/2)}).attr("cy",function(t,e){return p(t.value)*Math.sin(d*e-Math.PI/2)}).style("fill",function(t,e,a){return r.color(a)}).style("fill-opacity",.8),u.selectAll(".radarCircleWrapper").data(e).enter().append("g").attr("class","radarCircleWrapper").selectAll(".radarInvisibleCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*r.dotRadius).attr("cx",function(t,e){return p(t.value)*Math.cos(d*e-Math.PI/2)}).attr("cy",function(t,e){return p(t.value)*Math.sin(d*e-Math.PI/2)}).style("fill","none").style("pointer-events","all").on("mouseover",function(t,e){newX=parseFloat(d3.select(this).attr("cx"))-10,newY=parseFloat(d3.select(this).attr("cy"))-10,m.attr("x",newX).attr("y",newY).text(c(t.value)).transition().duration(200).style("opacity",1)}).on("mouseout",function(){m.transition().duration(200).style("opacity",0)});var m=u.append("text").attr("class","tooltip").style("opacity",0)}